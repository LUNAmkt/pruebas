<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brief de Logotipo - Luna Estrategia Digital</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<style>
:root {
    --luna-color-bg-dark: #1E1E1E;
    --luna-color-bg-darker: #252525;
    --luna-color-bg-black: #1a1a1a;
    --luna-color-bg: #0a0a0a;
    --luna-color-primary: #2372D9;
    --luna-color-primary-hover: #1a5bb8;
    --luna-color-white: #ffffff;
    --luna-color-gray-light: #ccc;
    --luna-color-gray-medium: #888;
    --luna-color-gray-dark: #666;
    --luna-color-border: #333;
    --luna-color-border-light: #444;
    --luna-color-error: #ef4444;
    --luna-color-success: #10b981;
    --luna-color-warning: #f59e0b;
    --luna-color-white-alpha-05: rgba(255, 255, 255, 0.05);
    --luna-color-white-alpha-10: rgba(255, 255, 255, 0.1);
    --luna-color-white-alpha-15: rgba(255, 255, 255, 0.15);
    --luna-color-white-alpha-20: rgba(255, 255, 255, 0.2);
    --luna-color-white-alpha-25: rgba(255, 255, 255, 0.25);
    --luna-color-white-secondary: #f0f0f0;
    --luna-color-white-hover: #f5f5f5;
    --luna-color-white-hover-secondary: #e8e8e8;
    --luna-color-blue-hover: #1a5bb8;
    --luna-font-counter: 'lango', 'Courier New', monospace;
    --luna-font-form: 'gidole', sans-serif;
    --luna-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --luna-radius-sm: 4px;
    --luna-radius-md: 8px;
    --luna-radius-lg: 10px;
    --luna-radius-xl: 15px;
    --luna-transition-fast: 0.3s ease;
    --luna-transition-smooth: 0.4s ease-out;
    --luna-transition-slow: 0.6s ease-in-out;
    --luna-shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
    --luna-shadow-md: 0 4px 12px rgba(35, 114, 217, 0.15);
    --luna-shadow-lg: 0 20px 40px rgba(0,0,0,0.3);
    --luna-shadow-hover: 0 8px 25px;
    --luna-duration-fast: 0.3s;
    --luna-duration-medium: 0.4s;
    --luna-duration-slow: 0.6s;
    --luna-ease-smooth: cubic-bezier(0.23, 1, 0.32, 1);
    --luna-ease-power2-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
body {
    font-family: var(--luna-font-form);
    background: var(--luna-color-bg-dark);
    color: var(--luna-color-white);
    min-height: 100vh;
    padding: 20px;
    overflow-x: hidden;
}
.luna-preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--luna-color-bg-black);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}
.luna-preloader.luna-fade-out {
    opacity: 0;
    visibility: hidden;
    transition: all var(--luna-transition-slow);
}
.luna-counter-container {
    text-align: center;
    position: relative;
}
.luna-counter {
    font-size: 8rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    color: var(--luna-color-white);
    font-family: var(--luna-font-counter);
    line-height: 1;
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: 0;
}
.luna-digit-container {
    position: relative;
    display: inline-block;
    overflow: hidden;
    height: 8rem;
    width: 5rem;
}
.luna-digit-wrapper {
    position: relative;
    transition: transform 0.1s ease;
}
.luna-digit-wrapper span {
    display: block;
    height: 8rem;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8rem;
    font-weight: 700;
    font-family: var(--luna-font-counter);
    line-height: 1;
}
.luna-loading-bar-container {
    width: 300px;
    height: 2px;
    background: rgba(255, 255, 255, 0.1);
    margin-top: 3rem;
    border-radius: 1px;
    overflow: hidden;
}
.luna-loading-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--luna-color-white), #cccccc);
    width: 0%;
    border-radius: 1px;
}
.luna-loading-text {
    margin-top: 2rem;
    font-size: 1rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    opacity: 0.6;
    font-weight: 300;
    font-family: var(--luna-font-form);
}
.luna-brief-container {
    max-width: 800px;
    margin: 0 auto;
    background: var(--luna-color-bg-darker);
    border-radius: var(--luna-radius-xl);
    box-shadow: var(--luna-shadow-lg);
    overflow: hidden;
    border: 2px solid var(--luna-color-border);
}
.luna-brief-header {
    background: linear-gradient(135deg, var(--luna-color-primary) 0%, var(--luna-color-primary-hover) 100%);
    color: var(--luna-color-white);
    padding: 30px;
    text-align: center;
    position: relative;
}
#luna-top-anchor {
    position: absolute;
    top: 0;
    left: 0;
    width: 1px;
    height: 1px;
    opacity: 0;
    pointer-events: none;
}
.luna-brief-header h1 {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 8px;
    transition: all var(--luna-transition-smooth);
    min-height: 2.6rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--luna-font-form);
}
.luna-brief-header h1.luna-slide-out {
    transform: translateY(30px);
    opacity: 0;
}
.luna-brief-header h1.luna-slide-in {
    transform: translateY(-30px);
    opacity: 0;
}
.luna-brief-header p {
    font-size: 1.1rem;
    opacity: 0.9;
    margin-bottom: 20px;
    font-family: var(--luna-font-form);
}
.luna-brief-progress {
    margin-top: 20px;
}
.luna-brief-progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--luna-radius-sm);
    overflow: hidden;
    margin-bottom: 10px;
}
.luna-brief-progress-fill {
    height: 100%;
    background: var(--luna-color-white);
    border-radius: var(--luna-radius-sm);
    transition: width var(--luna-transition-smooth);
    width: 16.66%;
}
.luna-brief-progress-text {
    font-size: 0.95rem;
    opacity: 0.9;
    font-family: var(--luna-font-form);
}
.luna-brief-form {
    padding: 40px;
    background: var(--luna-color-bg-dark);
}
.luna-brief-step {
    display: none;
    animation: lunaFadeInStep 0.5s ease-out;
}
.luna-brief-step.luna-active {
    display: block;
}
@keyframes lunaFadeInStep {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.luna-brief-field {
    margin-bottom: 25px;
    position: relative;
    transition: all var(--luna-transition-smooth);
}
.luna-brief-field label {
    display: block;
    font-family: var(--luna-font-form);
    font-weight: 400;
    font-size: 1.1rem;
    margin-bottom: 8px;
    color: var(--luna-color-gray-light);
    line-height: 1.4;
}
.luna-brief-field input[type="text"],
.luna-brief-field input[type="email"],
.luna-brief-field input[type="tel"],
.luna-brief-field input[type="number"],
.luna-brief-field select,
.luna-brief-field textarea {
    width: 100%;
    padding: 0.85rem 1.1rem;
    border: 2px solid var(--luna-color-border);
    border-radius: 0.625rem;
    font-size: 1rem;
    background: var(--luna-color-bg-darker);
    color: var(--luna-color-gray-light);
    margin-bottom: 1rem;
    transition: all var(--luna-transition-fast);
    font-family: var(--luna-font-form);
}
.luna-select-wrapper {
    position: relative;
    display: inline-block;
    width: 100%;
}
.luna-select-wrapper select {
    padding-right: 3rem;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
}
.luna-select-icon {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: var(--luna-color-gray-light);
    transition: all var(--luna-transition-fast);
}
.luna-select-wrapper:focus-within .luna-select-icon {
    color: var(--luna-color-primary);
}
.luna-brief-field input:focus,
.luna-brief-field select:focus,
.luna-brief-field textarea:focus {
    outline: none;
    border-color: var(--luna-color-primary);
    box-shadow: 0 0 0 3px rgba(35, 114, 217, 0.25);
    color: var(--luna-color-white);
}
.luna-brief-field textarea {
    resize: vertical;
    min-height: 100px;
}
.luna-brief-field input[type="color"] {
    width: 80px;
    height: 50px;
    border: 2px solid var(--luna-color-border);
    border-radius: var(--luna-radius-md);
    cursor: pointer;
    padding: 5px;
    background: var(--luna-color-bg-darker);
}
.luna-brief-field input[type="color"]:focus {
    border-color: var(--luna-color-primary);
    box-shadow: 0 0 0 3px rgba(35, 114, 217, 0.25);
}
.luna-autocomplete-suggestions {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--luna-color-border);
    border: 2px solid var(--luna-color-border-light);
    border-radius: 0 0 var(--luna-radius-md) var(--luna-radius-md);
    border-top: none;
    max-height: 200px;
    overflow-y: auto;
    z-index: 1000;
    display: none;
}
.luna-autocomplete-suggestion {
    padding: 12px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    color: var(--luna-color-gray-light);
    border-bottom: 1px solid var(--luna-color-border-light);
}
.luna-autocomplete-suggestion:hover,
.luna-autocomplete-suggestion.luna-active {
    background: var(--luna-color-primary);
    color: var(--luna-color-white);
}
.luna-character-counter {
    font-size: 0.875rem;
    margin-top: -10px;
    margin-bottom: 10px;
    text-align: right;
    transition: color var(--luna-transition-fast);
    font-family: var(--luna-font-form);
}
.luna-character-counter.luna-valid {
    color: var(--luna-color-success);
}
.luna-character-counter.luna-invalid {
    color: var(--luna-color-error);
}
.luna-character-counter.luna-warning {
    color: var(--luna-color-warning);
}
.luna-file-input-wrapper {
    margin-top: 1.5rem;
}
.luna-file-input-row {
    display: flex;
    align-items: stretch;
    gap: 15px;
    width: 100%;
}
.luna-file-progress {
    flex: 1;
    padding: 15px;
    background: var(--luna-color-bg-dark);
    border: 1px solid var(--luna-color-border-light);
    border-radius: var(--luna-radius-md);
    font-size: 0.85rem;
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-width: 200px;
    justify-content: center;
}
.luna-file-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.luna-file-count {
    color: var(--luna-color-primary);
    font-weight: 600;
    font-size: 0.9rem;
}
.luna-file-size {
    color: var(--luna-color-gray-light);
    font-weight: 500;
    font-size: 0.85rem;
}
.luna-file-progress-section {
    display: flex;
    flex-direction: column;
    gap: 6px;
}
.luna-file-progress-bar {
    width: 100%;
    height: 6px;
    background: var(--luna-color-border);
    border-radius: 3px;
    overflow: hidden;
}
.luna-file-progress-fill {
    height: 100%;
    background: var(--luna-color-success);
    border-radius: 3px;
    transition: all var(--luna-transition-fast);
    width: 0%;
}
.luna-file-limit {
    font-size: 0.75rem;
    color: var(--luna-color-gray-medium);
    text-align: center;
}
.luna-file-input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
    pointer-events: none;
}
.luna-brief-field small {
    display: block;
    margin-top: 5px;
    color: var(--luna-color-gray-medium);
    font-size: 0.875rem;
    font-family: var(--luna-font-form);
}
.luna-brief-radio-group,
.luna-brief-checkbox-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 10px;
}
.luna-brief-radio-container,
.luna-brief-checkbox-container {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    border: 2px solid var(--luna-color-border);
    border-radius: var(--luna-radius-md);
    cursor: pointer;
    transition: all var(--luna-transition-fast);
    background: var(--luna-color-bg-darker);
}
.luna-brief-radio-container:hover,
.luna-brief-checkbox-container:hover {
    border-color: var(--luna-color-primary);
    background: var(--luna-color-border);
}
.luna-brief-radio-container input[type="radio"],
.luna-brief-checkbox-container input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: var(--luna-color-primary);
}
.luna-brief-radio-container label,
.luna-brief-checkbox-container label {
    margin: 0;
    font-weight: 500;
    cursor: pointer;
    flex: 1;
    color: var(--luna-color-gray-light);
    font-family: var(--luna-font-form);
}
.luna-brief-radio-container input:checked + label,
.luna-brief-checkbox-container input:checked + label {
    color: var(--luna-color-primary);
    font-weight: 600;
}
.luna-radio-card {
    position: relative;
    border: 2px solid var(--luna-color-border);
    border-radius: var(--luna-radius-lg);
    cursor: pointer;
    transition: all var(--luna-transition-fast);
    background: var(--luna-color-bg-darker);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 180px;
    padding: 20px;
}
.luna-radio-card:hover {
    border-color: var(--luna-color-primary);
    transform: translateY(-2px);
    box-shadow: var(--luna-shadow-md);
}
.luna-radio-card input[type="radio"],
.luna-radio-card input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}
.luna-radio-card.luna-selected {
    border-color: var(--luna-color-primary);
    background: var(--luna-color-border);
}
.luna-radio-card.luna-selected::after {
    content: '✓';
    position: absolute;
    top: -10px;
    right: -10px;
    background: var(--luna-color-primary);
    color: var(--luna-color-white);
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(35, 114, 217, 0.3);
}
.luna-radio-label {
    display: block;
    padding: 0;
    text-align: center;
    cursor: pointer;
    font-weight: 500;
    color: var(--luna-color-gray-light);
    user-select: none;
    transition: all var(--luna-transition-fast);
    width: 100%;
    font-size: 1rem;
    line-height: 1.3;
    font-family: var(--luna-font-form);
}
.luna-radio-card.luna-selected .luna-radio-label {
    color: var(--luna-color-primary);
    font-weight: 600;
}
.luna-reference-img {
    width: 120px;
    height: 120px;
    margin: 0 auto 15px;
    display: block;
    object-fit: contain;
    transition: all var(--luna-transition-fast);
    filter: brightness(0.8);
}
.luna-radio-card:hover .luna-reference-img,
.luna-radio-card.luna-selected .luna-reference-img {
    transform: scale(1.05);
    filter: brightness(1);
}
.luna-brief-color-horizontal {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}
.luna-brief-color-horizontal .luna-brief-field {
    flex: 1;
    margin-bottom: 0;
}
.luna-brief-image-radio-group {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-top: 10px;
}
.luna-brief-image-radio-container {
    position: relative;
    border: 2px solid var(--luna-color-border);
    border-radius: var(--luna-radius-lg);
    cursor: pointer;
    transition: all var(--luna-transition-fast);
    padding: 15px;
    text-align: center;
    background: var(--luna-color-bg-darker);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 120px;
}
.luna-brief-image-radio-container:hover {
    border-color: var(--luna-color-primary);
    transform: translateY(-2px);
    box-shadow: var(--luna-shadow-md);
}
.luna-brief-image-radio-container input[type="radio"],
.luna-brief-image-radio-container input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}
.luna-brief-image-radio-container.luna-selected {
    border-color: var(--luna-color-primary);
    background: var(--luna-color-border);
}
.luna-brief-image-radio-container.luna-selected::after {
    content: '✓';
    position: absolute;
    top: -8px;
    right: -8px;
    background: var(--luna-color-primary);
    color: var(--luna-color-white);
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
}
.luna-brief-image-radio-content {
    border: 2px solid transparent;
    border-radius: var(--luna-radius-md);
    padding: 5px;
    transition: all var(--luna-transition-fast);
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}
.luna-brief-image-radio-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--luna-color-gray-light);
    line-height: 1.3;
    margin-bottom: 2px;
    font-family: var(--luna-font-form);
}
.luna-brief-image-radio-container.luna-selected .luna-brief-image-radio-label {
    color: var(--luna-color-primary);
    font-weight: 600;
}
.luna-brief-image-radio-content small {
    display: block;
    font-size: 0.75rem;
    color: var(--luna-color-gray-medium);
    margin-top: 2px;
}
.luna-brief-image-radio-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 10px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}
.luna-icon-calidos { background: linear-gradient(45deg, #ff6b6b, #ffa500, #ffed4e); border-radius: 50%; }
.luna-icon-frios { background: linear-gradient(45deg, #74b9ff, #00cec9, #6c5ce7); border-radius: 50%; }
.luna-icon-neutros { background: linear-gradient(45deg, #01589F, #F4D35E, #E6A5B5); border-radius: 50%; }
.luna-icon-vibrantes { background: linear-gradient(45deg, #F20775,#EBFC62, #B2FF0D); border-radius: 50%; }
.luna-icon-pasteles { background: linear-gradient(45deg, #AEF2D9, #F2D7D0, #F2F2F2); border-radius: 50%; }
.luna-icon-tierra { background: linear-gradient(45deg, #8B4513, #D2691E, #556B2F); border-radius: 50%; }
.luna-brief-field .luna-error-message {
    animation: lunaSlideInError 0.3s ease-out;
    color: var(--luna-color-error);
}
.luna-brief-field .luna-error-message.luna-fade-out {
    animation: lunaSlideOutError 0.3s ease-out forwards;
}
@keyframes lunaSlideInError {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
@keyframes lunaSlideOutError {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}
.luna-cubic-toggle {
    display: flex;
    align-items: center;
    gap: 15px;
    background: var(--luna-color-border);
    padding: 20px;
    border-radius: var(--luna-radius-lg);
    border: 2px solid var(--luna-color-gray-dark);
    margin: 20px 0;
}
.luna-toggle-switch {
    position: relative;
    width: 60px;
    height: 30px;
    background: var(--luna-color-border);
    border-radius: 30px;
    cursor: pointer;
    transition: background-color var(--luna-transition-fast);
    flex-shrink: 0;
    border: 2px solid #555;
}
.luna-toggle-switch.luna-checked,
.luna-toggle-switch.luna-toggle-switch-checked {
    background: var(--luna-color-primary);
    border-color: var(--luna-color-primary);
}
.luna-toggle-circle {
    width: 24px;
    height: 24px;
    background: var(--luna-color-white);
    border-radius: 50%;
    position: absolute;
    top: 1px;
    left: 1px;
    transition: transform var(--luna-transition-fast);
}
.luna-toggle-switch.luna-checked .luna-toggle-circle,
.luna-toggle-switch.luna-toggle-switch-checked .luna-toggle-circle {
    transform: translateX(30px);
}
.luna-toggle-label {
    flex: 1;
    cursor: pointer;
    line-height: 1.6;
    color: var(--luna-color-gray-light);
    font-weight: 500;
    font-family: var(--luna-font-form);
}
.luna-toggle-text {
    position: relative;
    width: 20px;
    height: 20px;
    overflow: hidden;
    margin-left: 10px;
}
.luna-toggle-text span {
    position: absolute;
    left: 0;
    width: 100%;
    text-align: center;
    font-size: 0.9rem;
    font-weight: 600;
    transition: transform 0.3s ease, opacity 0.3s ease;
}
.luna-toggle-text .luna-toggle-text-current {
    transform: translateY(0);
    opacity: 1;
    color: var(--luna-color-gray-medium);
}
.luna-toggle-text .luna-toggle-text-next {
    transform: translateY(30px);
    opacity: 0;
    color: var(--luna-color-white);
}
.luna-toggle-switch.luna-checked ~ .luna-toggle-text .luna-toggle-text-current {
    transform: translateY(-30px);
    opacity: 0;
}
.luna-toggle-switch.luna-checked ~ .luna-toggle-text .luna-toggle-text-next {
    transform: translateY(0);
    opacity: 1;
}
.luna-toggle-switch.luna-toggle-switch-checked ~ .luna-toggle-text .luna-toggle-text-current {
    transform: translateY(-30px);
    opacity: 0;
}
.luna-toggle-switch.luna-toggle-switch-checked ~ .luna-toggle-text .luna-toggle-text-next {
    transform: translateY(0);
    opacity: 1;
}
.luna-thanks-message {
    background: rgba(16, 185, 129, 0.1);
    border: 2px solid var(--luna-color-success);
    color: var(--luna-color-success);
    padding: 15px 20px;
    border-radius: var(--luna-radius-md);
    text-align: center;
    font-size: 1rem;
    font-weight: 500;
    animation: lunaFadeInStep 0.5s ease-out;
}
.luna-btn {
    position: relative;
    padding: 1rem 2rem;
    font-size: 0.95rem;
    font-weight: 400;
    text-decoration: none;
    border-radius: var(--luna-radius-md);
    transition: all var(--luna-duration-fast) var(--luna-ease-smooth);
    cursor: pointer;
    border: none;
    outline: none;
    overflow: hidden;
    min-width: 140px;
    text-align: center;
    letter-spacing: 0.5px;
    font-family: var(--luna-font-family);
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}
.luna-btn-content {
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    height: 1.2em;
    overflow: hidden;
}
.luna-btn-text {
    position: relative;
    display: inline-block;
    overflow: hidden;
    height: 1.2em;
}
.luna-btn-icon {
    position: relative;
    display: inline-block;
    overflow: hidden;
    height: 1.2em;
    width: 1.2em;
    font-size: 1.2em;
}
.luna-btn-text-original,
.luna-btn-text-hover,
.luna-btn-text-return {
    display: inline-block;
    transition: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    white-space: nowrap;
}
.luna-btn-icon-original,
.luna-btn-icon-hover,
.luna-btn-icon-return {
    display: inline-block;
    transition: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    text-align: center;
    line-height: 1.2em;
}
.luna-btn-text-original,
.luna-btn-icon-original {
    position: relative;
}
.luna-btn-text-hover,
.luna-btn-icon-hover {
    top: 40px;
}
.luna-btn-text-return,
.luna-btn-icon-return {
    top: 40px;
}
.luna-boton-black {
    background: var(--luna-color-white-alpha-05);
    color: var(--luna-color-white);
    border: 1px solid var(--luna-color-white-alpha-15);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}
.luna-boton-black:hover {
    background: var(--luna-color-white-alpha-10);
    border-color: var(--luna-color-white-alpha-25);
    transform: translateY(-2px);
    box-shadow: var(--luna-shadow-hover) var(--luna-color-white-alpha-10);
}
.luna-boton-white {
    background: linear-gradient(135deg, var(--luna-color-white) 0%, var(--luna-color-white-secondary) 100%);
    color: var(--luna-color-black);
    border: 1px solid transparent;
    font-weight: 500;
}
.luna-boton-white:hover {
    background: linear-gradient(135deg, var(--luna-color-white-hover) 0%, var(--luna-color-white-hover-secondary) 100%);
    transform: translateY(-2px);
    box-shadow: var(--luna-shadow-hover) var(--luna-color-white-alpha-20);
}
.luna-boton-blue {
    background: var(--luna-color-blue);
    color: var(--luna-color-white);
    border: 1px solid transparent;
    font-weight: 500;
}
.luna-boton-blue:hover {
    background: var(--luna-color-blue-hover);
    transform: translateY(-2px);
    box-shadow: var(--luna-shadow-hover) rgba(35, 114, 217, 0.3);
}
.luna-btn:active {
    transform: translateY(0);
}
.luna-brief-navigation {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 40px;
    padding-top: 30px;
    border-top: 2px solid var(--luna-color-border);
}
.luna-brief-hidden-field {
    display: none;
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transition: all var(--luna-transition-smooth);
}
.luna-brief-hidden-field.luna-show {
    display: block;
    max-height: 500px;
    opacity: 1;
    animation: lunaSlideDown 0.4s ease-out;
}
@keyframes lunaSlideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.luna-brief-message {
    padding: 20px;
    border-radius: var(--luna-radius-lg);
    margin: 20px 0;
    text-align: center;
    display: none;
    animation: lunaSlideInMessage 0.5s ease-out;
}
.luna-brief-message.luna-success {
    background: #1e3a2e;
    border: 2px solid var(--luna-color-success);
    color: var(--luna-color-success);
}
.luna-brief-message.luna-error {
    background: #3a1e1e;
    border: 2px solid var(--luna-color-error);
    color: var(--luna-color-error);
    white-space: pre-line;
    text-align: left;
}
.luna-brief-message h2,
.luna-brief-message h3 {
    margin-bottom: 10px;
    font-size: 1.4rem;
    font-family: var(--luna-font-form);
}
.luna-brief-message p {
    margin: 0;
    font-size: 1rem;
    line-height: 1.5;
    font-family: var(--luna-font-form);
}
@keyframes lunaSlideInMessage {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.luna-brief-field.luna-error input,
.luna-brief-field.luna-error select,
.luna-brief-field.luna-error textarea {
    border-color: var(--luna-color-error) !important;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2) !important;
    background-color: rgba(239, 68, 68, 0.05);
}
.luna-brief-field .luna-error-message {
    color: var(--luna-color-error);
    font-size: 0.875rem;
    margin-top: 5px;
    display: block;
    font-family: var(--luna-font-form);
}
.luna-brief-loading {
    opacity: 0.6;
    pointer-events: none;
}
.luna-countdown-container {
    background: #111;
    padding: 20px;
    border-radius: var(--luna-radius-lg);
    border: 2px solid var(--luna-color-border);
    margin: 20px 0;
    text-align: center;
}
.luna-countdown-timer {
    font-size: 1.2rem;
    color: var(--luna-color-white);
    font-weight: 600;
    margin-top: 10px;
    font-family: var(--luna-font-form);
}
@supports not (backdrop-filter: blur(10px)) {
    .luna-boton-black {
        background: var(--luna-color-white-alpha-10);
    }
}
@media (max-width: 1024px) {
    .luna-brief-image-radio-group {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }
    .luna-radio-card {
        min-height: 160px;
        padding: 15px;
    }
    .luna-reference-img {
        width: 100px;
        height: 100px;
        margin-bottom: 12px;
    }
}
@media (max-width: 768px) {
    body {
        padding: 10px;
    }
    .luna-brief-container {
        border-radius: 0;
    }
    .luna-brief-header {
        padding: 20px;
    }
    .luna-brief-header h1 {
        font-size: 1.8rem;
    }
    .luna-brief-form {
        padding: 20px;
    }
    .luna-brief-radio-group,
    .luna-brief-checkbox-group {
        grid-template-columns: 1fr;
    }
    .luna-brief-image-radio-group {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    .luna-brief-image-radio-container {
        padding: 10px;
        min-height: 100px;
    }
    .luna-radio-card {
        min-height: 140px;
        padding: 12px;
    }
    .luna-reference-img {
        width: 80px;
        height: 80px;
        margin-bottom: 8px;
    }
    .luna-radio-label {
        font-size: 0.9rem;
    }
    .luna-brief-navigation {
        flex-direction: column;
        gap: 15px;
    }
    .luna-btn {
        width: 100%;
    }
    .luna-brief-color-horizontal {
        flex-direction: column;
        gap: 15px;
    }
    .luna-file-input-row {
        flex-direction: column;
        gap: 12px;
    }
    .luna-file-progress {
        width: 100%;
    }
    .luna-counter {
        font-size: 6rem;
    }
    .luna-digit-container {
        height: 6rem;
        width: 4rem;
    }
    .luna-digit-wrapper span {
        height: 6rem;
        font-size: 6rem;
    }
    .luna-loading-bar-container {
        width: 250px;
    }
}
@media (max-width: 480px) {
    .luna-counter {
        font-size: 5rem;
    }
    .luna-digit-container {
        height: 5rem;
        width: 3.5rem;
    }
    .luna-digit-wrapper span {
        height: 5rem;
        font-size: 5rem;
    }
}
</style>
</head>
<body>
    <div class="luna-preloader" id="lunaPreloader">
        <div class="luna-counter-container">
            <div class="luna-counter" id="lunaCounter">
                <div class="luna-digit-container" id="lunaHundredsContainer">
                    <div class="luna-digit-wrapper" id="lunaHundredsWrapper"></div>
                </div>
                <div class="luna-digit-container" id="lunaTensContainer">
                    <div class="luna-digit-wrapper" id="lunaTensWrapper"></div>
                </div>
                <div class="luna-digit-container" id="lunaUnitsContainer">
                    <div class="luna-digit-wrapper" id="lunaUnitsWrapper"></div>
                </div>
            </div>
        </div>
        <div class="luna-loading-bar-container">
            <div class="luna-loading-bar" id="lunaLoadingBar"></div>
        </div>
        <div class="luna-loading-text">Cargando...</div>
    </div>
    <div class="luna-brief-container" id="lunaBriefContainer" style="display: none;">
        <div class="luna-brief-header" id="lunaFormHeader">
            <a id="luna-top-anchor"></a>
            <h1 id="lunaStepTitle">Términos y condiciones</h1>
            <p>Tu información nos inspira y guía para captar la esencia de tu marca.</p>
            <div class="luna-brief-progress">
                <div class="luna-brief-progress-bar">
                    <div class="luna-brief-progress-fill" id="lunaProgressBar"></div>
                </div>
                <div class="luna-brief-progress-text" id="lunaProgressText">Paso 1 de 6</div>
            </div>
        </div>
        <form id="lunaBriefForm" class="luna-brief-form" method="POST" action="briefLogotipo.php" enctype="multipart/form-data" autocomplete="off">
            <div class="luna-brief-step luna-active" id="lunaStep1">
                <div class="luna-brief-field">
                    <div class="luna-cubic-toggle">
                        <input type="checkbox" id="lunaAcceptance" name="acceptance" required style="display:none;" autocomplete="off">
                        <div class="luna-toggle-switch" onclick="lunaToggleAcceptance()">
                            <div class="luna-toggle-circle"></div>
                        </div>
                        <label for="lunaAcceptance" class="luna-toggle-label">
                            Al continuar, aceptas nuestros términos y condiciones. Tus datos serán cuidados y usados solo para crear tu proyecto.
                        </label>
                    </div>
                </div>
            </div>
            <div class="luna-brief-step" id="lunaStep2">
                <div class="luna-brief-field">
                    <label for="lunaFullName">Nombre completo *</label>
                    <input type="text" id="lunaFullName" name="fullName" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly');" placeholder="Ej: Juan Carlos Pérez">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaEmail">Correo electrónico *</label>
                    <input type="email" id="lunaEmail" name="email" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly');">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaWhatsapp">Número de WhatsApp *</label>
                    <input type="tel" id="lunaWhatsapp" name="whatsapp" required autocomplete="off">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaOfficePhone">Teléfono de oficina</label>
                    <input type="tel" id="lunaOfficePhone" name="officePhone" autocomplete="off">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaSocialUrl">Principal red social de tu negocio</label>
                    <input type="text" id="lunaSocialUrl" name="socialUrl" autocomplete="off" placeholder="Ejemplo: https://www.facebook.com/TuNegocio">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaCountry">País *</label>
                    <div class="luna-select-wrapper">
                        <select id="lunaCountry" name="country" required autocomplete="off">
                            <option value="">Selecciona tu país</option>
                            <option value="Mexico">México</option>
                            <option value="USA">Estados Unidos</option>
                            <option value="Canada">Canadá</option>
                            <option value="Other">Otro</option>
                        </select>
                        <span class="luna-select-icon material-symbols-outlined">arrow_drop_down</span>
                    </div>
                </div>
                <div class="luna-brief-field" id="lunaStateField">
                    <label for="lunaState" id="lunaStateLabel">Estado *</label>
                    <div class="luna-select-wrapper">
                        <select id="lunaState" name="state" autocomplete="off">
                            <option value="">Selecciona tu país para continuar</option>
                        </select>
                        <span class="luna-select-icon material-symbols-outlined">arrow_drop_down</span>
                    </div>
                </div>
                <div class="luna-brief-field luna-brief-hidden-field" id="lunaCustomCountryField">
                    <label for="lunaCustomCountry">Escribe tu país para ajustar detalles regionales *</label>
                    <input type="text" id="lunaCustomCountry" name="customCountry" autocomplete="off" placeholder="Comienza a escribir...">
                    <div class="luna-autocomplete-suggestions" id="lunaCountrySuggestions"></div>
                </div>
            </div>
            <div class="luna-brief-step" id="lunaStep3">
                <div class="luna-brief-field">
                    <label for="lunaBusinessName">Nombre del negocio *</label>
                    <input type="text" id="lunaBusinessName" name="businessName" required autocomplete="off">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaPosition">¿Cuál es tu cargo dentro de tu organización? *</label>
                    <div class="luna-select-wrapper">
                        <select id="lunaPosition" name="position" required autocomplete="off">
                            <option value="">Selecciona tu cargo</option>
                            <option value="Propietario">Propietario</option>
                            <option value="Socio/a">Socio/a</option>
                            <option value="Encargado de área">Encargado de área</option>
                        </select>
                        <span class="luna-select-icon material-symbols-outlined">arrow_drop_down</span>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaBusinessAddress">Escribe la dirección de tu negocio *</label>
                    <input type="text" id="lunaBusinessAddress" name="businessAddress" required autocomplete="off" placeholder="Ej: Calle 123, Colonia Centro, Ciudad">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaBusinessType">Giro del negocio *</label>
                    <div class="luna-select-wrapper">
                        <select id="lunaBusinessType" name="businessType" required autocomplete="off">
                            <option value="">Selecciona el giro</option>
                            <option value="Servicios">Servicios</option>
                            <option value="Productos">Productos</option>
                            <option value="Ambos">Ambos (servicios y productos)</option>
                        </select>
                        <span class="luna-select-icon material-symbols-outlined">arrow_drop_down</span>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaBusinessActivity">Descripción de la actividad comercial *</label>
                    <textarea id="lunaBusinessActivity" name="businessActivity" rows="4" placeholder="Describe brevemente a qué se dedica tu negocio..." required autocomplete="off"></textarea>
                    <div class="luna-character-counter" id="lunaActivityCounter">0/30 caracteres</div>
                </div>
                <div class="luna-brief-field">
                    <label>¿Tu servicio/producto lo brindas de manera local, nacional o internacional? *</label>
                    <div class="luna-brief-radio-group">
                        <div class="luna-brief-radio-container">
                            <input type="radio" id="lunaScopeLocal" name="businessScope" value="Local">
                            <label for="lunaScopeLocal">Local</label>
                        </div>
                        <div class="luna-brief-radio-container">
                            <input type="radio" id="lunaScopeNational" name="businessScope" value="Nacional">
                            <label for="lunaScopeNational">Nacional</label>
                        </div>
                        <div class="luna-brief-radio-container">
                            <input type="radio" id="lunaScopeInternational" name="businessScope" value="Internacional">
                            <label for="lunaScopeInternational">Internacional</label>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaBusinessMaturity">Madurez del negocio *</label>
                    <div class="luna-select-wrapper">
                        <select id="lunaBusinessMaturity" name="businessMaturity" required autocomplete="off">
                            <option value="">Selecciona la etapa</option>
                            <option value="Startup">Startup (Menos de 1 año)</option>
                            <option value="En crecimiento">En crecimiento (1-3 años)</option>
                            <option value="Establecido">Establecido (3-10 años)</option>
                            <option value="Empresa consolidada">Empresa consolidada (Más de 10 años)</option>
                        </select>
                        <span class="luna-select-icon material-symbols-outlined">arrow_drop_down</span>
                    </div>
                </div>
            </div>
            <div class="luna-brief-step" id="lunaStep4">
                <div class="luna-brief-field">
                    <label>¿Actualmente tienes un logo?</label>
                    <div class="luna-cubic-toggle">
                        <input type="checkbox" id="lunaHasLogo" name="hasLogo" style="display:none;" autocomplete="off">
                        <div class="luna-toggle-switch" onclick="lunaToggleHasLogo()">
                            <div class="luna-toggle-circle"></div>
                        </div>
                        <div class="luna-toggle-text">
                            <span class="luna-toggle-text-current">NO</span>
                            <span class="luna-toggle-text-next">SÍ</span>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field luna-brief-hidden-field" id="lunaCurrentLogoField">
                    <label for="lunaCurrentLogo">Sube tu logo actual</label>
                    <div class="luna-file-input-wrapper">
                        <div class="luna-file-input-row">
                            <input type="file" id="lunaCurrentLogo" name="currentLogo" accept=".jpg,.jpeg,.png,.pdf" class="luna-file-input" autocomplete="off">
                            <a href="#" class="luna-btn luna-boton-white" onclick="document.getElementById('lunaCurrentLogo').click(); return false;">
                                <div class="luna-btn-content">
                                    <span class="luna-btn-icon">
                                        <span class="luna-btn-icon-original material-symbols-outlined">upload</span>
                                        <span class="luna-btn-icon-hover material-symbols-outlined">upload</span>
                                        <span class="luna-btn-icon-return material-symbols-outlined">upload</span>
                                    </span>
                                    <span class="luna-btn-text">
                                        <span class="luna-btn-text-original">Adjuntar</span>
                                        <span class="luna-btn-text-hover">Adjuntar</span>
                                        <span class="luna-btn-text-return">Adjuntar</span>
                                    </span>
                                </div>
                            </a>
                            <div class="luna-file-progress">
                                <div class="luna-file-info">
                                    <div class="luna-file-count">0 archivos</div>
                                    <div class="luna-file-size">0 MB</div>
                                </div>
                                <div class="luna-file-progress-section">
                                    <div class="luna-file-progress-bar">
                                        <div class="luna-file-progress-fill"></div>
                                    </div>
                                    <div class="luna-file-limit">Máximo: 2 MB</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <small>Formatos permitidos: JPG, PNG, PDF. Tamaño máximo: 2MB</small>
                </div>
                <div class="luna-brief-field luna-brief-hidden-field" id="lunaPreserveElementsField">
                    <label for="lunaPreserveElements">¿Qué elementos deseas conservar de tu logo actual?</label>
                    <textarea id="lunaPreserveElements" name="preserveElements" rows="3" placeholder="Describe qué elementos del logo actual te gustaría mantener..." autocomplete="off"></textarea>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaBrandName">Nombre de la marca (como aparecerá en el logo) *</label>
                    <input type="text" id="lunaBrandName" name="brandName" required autocomplete="off">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaSubtext">Subtexto o slogan (opcional)</label>
                    <input type="text" id="lunaSubtext" name="subtext" placeholder="Ej: 'Tu socio estratégico'" autocomplete="off">
                </div>
                <div class="luna-brief-field">
                    <label for="lunaElements">¿Hay algún elemento específico que desees incluir? (opcional)</label>
                    <textarea id="lunaElements" name="elements" rows="2" placeholder="Ej: Una luna, engranajes, etc." autocomplete="off"></textarea>
                </div>
            </div>
            <div class="luna-brief-step" id="lunaStep5">
                <div class="luna-brief-field">
                    <label for="lunaDesignStyle">¿Qué estilo de diseño deseas para tu nuevo logo? *</label>
                    <div class="luna-brief-image-radio-group">
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignMinimalista" name="designStyle" value="Minimalista">
                            <label for="lunaDesignMinimalista" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-minimalista.svg" alt="Ejemplo Minimalista" class="luna-reference-img">
                                Minimalista
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignDivertido" name="designStyle" value="Divertido">
                            <label for="lunaDesignDivertido" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-fun.svg" alt="Ejemplo Divertido" class="luna-reference-img">
                                Divertido
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignEscudo" name="designStyle" value="Escudo">
                            <label for="lunaDesignEscudo" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-escudo.svg" alt="Ejemplo Escudo" class="luna-reference-img">
                                Escudo
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignMascota" name="designStyle" value="Con Mascota">
                            <label for="lunaDesignMascota" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-mascota.svg" alt="Ejemplo Con Mascota" class="luna-reference-img">
                                Con Mascota
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignMonograma" name="designStyle" value="Monograma">
                            <label for="lunaDesignMonograma" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-monograma.svg" alt="Ejemplo Monograma" class="luna-reference-img">
                                Monograma
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignAnagrama" name="designStyle" value="Anagrama">
                            <label for="lunaDesignAnagrama" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-anagrama.svg" alt="Ejemplo Anagrama" class="luna-reference-img">
                                Anagrama
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignPictograma" name="designStyle" value="Pictograma">
                            <label for="lunaDesignPictograma" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-pictograma.svg" alt="Ejemplo Pictograma" class="luna-reference-img">
                                Pictograma
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaDesignLettermark" name="designStyle" value="Lettermark">
                            <label for="lunaDesignLettermark" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/logo-lettermark.svg" alt="Ejemplo Lettermark" class="luna-reference-img">
                                Lettermark
                            </label>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label>¿Qué formas prefieres? *</label>
                    <div class="luna-brief-image-radio-group">
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaShapeLineas" name="preferredShapes" value="Líneas">
                            <label for="lunaShapeLineas" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/forma-lineas.svg" alt="Formas Líneas" class="luna-reference-img">
                                Líneas
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaShapeCirculos" name="preferredShapes" value="Círculos">
                            <label for="lunaShapeCirculos" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/forma-circular.svg" alt="Formas Círculos" class="luna-reference-img">
                                Círculos
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaShapeCuadrados" name="preferredShapes" value="Cuadrados">
                            <label for="lunaShapeCuadrados" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/forma-cuadro.svg" alt="Formas Cuadrados" class="luna-reference-img">
                                Cuadrados
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaShapeTriangulos" name="preferredShapes" value="Triángulos">
                            <label for="lunaShapeTriangulos" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/forma-triangulo.svg" alt="Formas Triángulos" class="luna-reference-img">
                                Triángulos
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaShapeTridimensional" name="preferredShapes" value="Tridimensional">
                            <label for="lunaShapeTridimensional" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/forma-3d.svg" alt="Formas Tridimensional" class="luna-reference-img">
                                Tridimensional
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaShapeAbstractas" name="preferredShapes" value="Abstractas">
                            <label for="lunaShapeAbstractas" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/forma-abstracta.svg" alt="Formas Abstractas" class="luna-reference-img">
                                Abstractas
                            </label>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaColorPalette">Paleta de colores preferida *</label>
                    <div class="luna-brief-image-radio-group">
                        <div class="luna-brief-image-radio-container">
                            <input type="radio" id="lunaColorCalidos" name="colorPalette" value="Cálidos">
                            <div class="luna-brief-image-radio-content">
                                <div class="luna-brief-image-radio-icon luna-icon-calidos"></div>
                                <div class="luna-brief-image-radio-label">Cálidos</div>
                                <small>(rojos, naranjas, amarillos)</small>
                            </div>
                        </div>
                        <div class="luna-brief-image-radio-container">
                            <input type="radio" id="lunaColorFrios" name="colorPalette" value="Fríos">
                            <div class="luna-brief-image-radio-content">
                                <div class="luna-brief-image-radio-icon luna-icon-frios"></div>
                                <div class="luna-brief-image-radio-label">Fríos</div>
                                <small>(azules, verdes, morados)</small>
                            </div>
                        </div>
                        <div class="luna-brief-image-radio-container">
                            <input type="radio" id="lunaColorNeutros" name="colorPalette" value="Neutros">
                            <div class="luna-brief-image-radio-content">
                                <div class="luna-brief-image-radio-icon luna-icon-neutros"></div>
                                <div class="luna-brief-image-radio-label">Neutros</div>
                                <small>(grises, negros, blancos)</small>
                            </div>
                        </div>
                        <div class="luna-brief-image-radio-container">
                            <input type="radio" id="lunaColorVibrantes" name="colorPalette" value="Vibrantes">
                            <div class="luna-brief-image-radio-content">
                                <div class="luna-brief-image-radio-icon luna-icon-vibrantes"></div>
                                <div class="luna-brief-image-radio-label">Vibrantes</div>
                                <small>(colores saturados)</small>
                            </div>
                        </div>
                        <div class="luna-brief-image-radio-container">
                            <input type="radio" id="lunaColorPasteles" name="colorPalette" value="Pasteles">
                            <div class="luna-brief-image-radio-content">
                                <div class="luna-brief-image-radio-icon luna-icon-pasteles"></div>
                                <div class="luna-brief-image-radio-label">Pasteles</div>
                                <small>(colores suaves)</small>
                            </div>
                        </div>
                        <div class="luna-brief-image-radio-container">
                            <input type="radio" id="lunaColorTierra" name="colorPalette" value="Tierra">
                            <div class="luna-brief-image-radio-content">
                                <div class="luna-brief-image-radio-icon luna-icon-tierra"></div>
                                <div class="luna-brief-image-radio-label">Tierra</div>
                                <small>(tonos marrones, ocres, verdes secos)</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaColorPalette">Colores principales para tu diseño *</label>
                    <div class="luna-brief-color-horizontal">
                        <div class="luna-brief-field">
                            <label for="lunaBaseColor1">Color base 1 *</label>
                            <input type="color" id="lunaBaseColor1" name="baseColor1" value="#000000" required autocomplete="off">
                        </div>
                        <div class="luna-brief-field">
                            <label for="lunaBaseColor2">Color base 2 *</label>
                            <input type="color" id="lunaBaseColor2" name="baseColor2" value="#000000" required autocomplete="off">
                        </div>
                        <div class="luna-brief-field">
                            <label for="lunaBaseColor3">Color base 3 (opcional)</label>
                            <input type="color" id="lunaBaseColor3" name="baseColor3" value="#000000" autocomplete="off">
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaTypographyStyle">Estilo de tipografía *</label>
                    <div class="luna-brief-image-radio-group">
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaTypoModerna" name="typographyStyle" value="Moderna">
                            <label for="lunaTypoModerna" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/letras-modernas.svg" alt="Tipografía Moderna" class="luna-reference-img">
                                Moderna
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaTypoDelgada" name="typographyStyle" value="Delgada">
                            <label for="lunaTypoDelgada" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/letras-slim.svg" alt="Tipografía Delgada" class="luna-reference-img">
                                Delgada
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaTypoGruesa" name="typographyStyle" value="Gruesa">
                            <label for="lunaTypoGruesa" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/letras-gruesas.svg" alt="Tipografía Gruesa" class="luna-reference-img">
                                Gruesa
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaTypoSerif" name="typographyStyle" value="Serif">
                            <label for="lunaTypoSerif" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/letras-serif.svg" alt="Tipografía Serif" class="luna-reference-img">
                                Serif
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaTypoCaligrafica" name="typographyStyle" value="Caligráfica">
                            <label for="lunaTypoCaligrafica" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/letra-caligrafica.svg" alt="Tipografía Caligráfica" class="luna-reference-img">
                                Caligráfica
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaTypoDecorativa" name="typographyStyle" value="Decorativa">
                            <label for="lunaTypoDecorativa" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/letras-decorativas.svg" alt="Tipografía Decorativa" class="luna-reference-img">
                                Decorativa
                            </label>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaReferenceImages">Sube entre 1 y 3 logos que te gusten; nos ayudarán a entender mejor tu estilo: *</label>
                    <div class="luna-file-input-wrapper">
                        <div class="luna-file-input-row">
                            <input type="file" id="lunaReferenceImages" name="referenceImages[]" multiple accept=".jpg,.jpeg,.png" class="luna-file-input" autocomplete="off">
                            <a href="#" class="luna-btn luna-boton-white" onclick="document.getElementById('lunaReferenceImages').click(); return false;">
                                <div class="luna-btn-content">
                                    <span class="luna-btn-icon">
                                        <span class="luna-btn-icon-original material-symbols-outlined">upload</span>
                                        <span class="luna-btn-icon-hover material-symbols-outlined">upload</span>
                                        <span class="luna-btn-icon-return material-symbols-outlined">upload</span>
                                    </span>
                                    <span class="luna-btn-text">
                                        <span class="luna-btn-text-original">Adjuntar</span>
                                        <span class="luna-btn-text-hover">Adjuntar</span>
                                        <span class="luna-btn-text-return">Adjuntar</span>
                                    </span>
                                </div>
                            </a>
                            <div class="luna-file-progress">
                                <div class="luna-file-info">
                                    <div class="luna-file-count">0 archivos</div>
                                    <div class="luna-file-size">0 MB</div>
                                </div>
                                <div class="luna-file-progress-section">
                                    <div class="luna-file-progress-bar">
                                        <div class="luna-file-progress-fill"></div>
                                    </div>
                                    <div class="luna-file-limit">Máximo: 4 MB total</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <small>Entre 1 y 3 archivos .JPG o .PNG de 2MB cada uno máximo.</small>
                </div>
                <div class="luna-brief-field">
                    <label>¿Dónde deseas visualizar el logo? *</label>
                    <div class="luna-brief-image-radio-group">
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaVisualizeVestimenta" name="visualizeOn" value="Vestimenta">
                            <label for="lunaVisualizeVestimenta" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/icono-prenda.svg" alt="Visualizar en Vestimenta" class="luna-reference-img">
                                Vestimenta
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaVisualizeEmpaque" name="visualizeOn" value="Empaque">
                            <label for="lunaVisualizeEmpaque" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/icono-empaque.svg" alt="Visualizar en Empaque" class="luna-reference-img">
                                Empaque
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaVisualizeImpreso" name="visualizeOn" value="Impreso">
                            <label for="lunaVisualizeImpreso" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/icono-card.svg" alt="Visualizar en Impreso" class="luna-reference-img">
                                Impreso
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaVisualizeLetrero" name="visualizeOn" value="Letrero">
                            <label for="lunaVisualizeLetrero" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/icono-anuncio.svg" alt="Visualizar en Letrero" class="luna-reference-img">
                                Letrero
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaVisualizeBordado" name="visualizeOn" value="Bordado">
                            <label for="lunaVisualizeBordado" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/icono-bordado.svg" alt="Visualizar en Bordado" class="luna-reference-img">
                                Bordado
                            </label>
                        </div>
                        <div class="luna-radio-card">
                            <input type="radio" id="lunaVisualizeVehiculo" name="visualizeOn" value="Vehiculo">
                            <label for="lunaVisualizeVehiculo" class="luna-radio-label">
                                <img src="https://lunamkt.com/wp-content/uploads/2020/08/icono-vehiculo.svg" alt="Visualizar en Vehículo" class="luna-reference-img">
                                Vehículo
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="luna-brief-step" id="lunaStep6">
                <div class="luna-brief-field">
                    <label>¿Es tu primera vez trabajando con una agencia o profesional?</label>
                    <div class="luna-cubic-toggle">
                        <input type="checkbox" id="lunaFirstTime" name="firstTime" checked style="display:none;" autocomplete="off">
                        <div class="luna-toggle-switch luna-toggle-switch-checked" onclick="lunaToggleFirstTime()">
                            <div class="luna-toggle-circle"></div>
                        </div>
                        <div class="luna-toggle-text">
                            <span class="luna-toggle-text-current">SÍ</span>
                            <span class="luna-toggle-text-next">NO</span>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field luna-brief-hidden-field" id="lunaAgencyCountField">
                    <label for="lunaAgencyCount">¿Con cuántos? *</label>
                    <input type="number" id="lunaAgencyCount" name="agencyCount" min="1" max="50" placeholder="Número de agencias/profesionales" autocomplete="off">
                </div>
                <div class="luna-brief-field">
                    <label>¿Has contratado previamente a Luna Estrategia Digital?</label>
                    <div class="luna-cubic-toggle">
                        <input type="checkbox" id="lunaHiredBefore" name="hiredBefore" style="display:none;" autocomplete="off">
                        <div class="luna-toggle-switch" onclick="lunaToggleHiredBefore()">
                            <div class="luna-toggle-circle"></div>
                        </div>
                        <div class="luna-toggle-text">
                            <span class="luna-toggle-text-current">NO</span>
                            <span class="luna-toggle-text-next">SÍ</span>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field luna-brief-hidden-field" id="lunaPreviousServicesField">
                    <label>¿Qué servicios has contratado anteriormente? *</label>
                    <div class="luna-brief-checkbox-group">
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaPrevBranding" name="previousServices[]" value="Branding">
                            <label for="lunaPrevBranding">Branding</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaPrevWeb" name="previousServices[]" value="Desarrollo web">
                            <label for="lunaPrevWeb">Desarrollo web</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaPrevMarketing" name="previousServices[]" value="Marketing digital">
                            <label for="lunaPrevMarketing">Marketing digital</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaPrevSocial" name="previousServices[]" value="Redes sociales">
                            <label for="lunaPrevSocial">Redes sociales</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaPrevConsulting" name="previousServices[]" value="Consultoría">
                            <label for="lunaPrevConsulting">Consultoría</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaPrevOther" name="previousServices[]" value="Other">
                            <label for="lunaPrevOther">Otro</label>
                        </div>
                    </div>
                    <div class="luna-brief-field luna-brief-hidden-field" id="lunaOtherPreviousField">
                        <input type="text" id="lunaOtherPreviousText" name="otherPreviousText" placeholder="Especifica el otro servicio..." autocomplete="off">
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label for="lunaHowHeard">¿Cómo te enteraste de nosotros? *</label>
                    <div class="luna-select-wrapper">
                        <select id="lunaHowHeard" name="howHeard" required autocomplete="off">
                            <option value="">Selecciona una opción</option>
                            <option value="Redes sociales">Redes sociales</option>
                            <option value="Google">Google</option>
                            <option value="Recomendación">Recomendación</option>
                            <option value="Cliente anterior">Cliente anterior</option>
                            <option value="Evento">Evento o conferencia</option>
                            <option value="Publicidad">Publicidad</option>
                            <option value="Otro">Otro</option>
                        </select>
                        <span class="luna-select-icon material-symbols-outlined">arrow_drop_down</span>
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label>¿En qué otros servicios estás interesado? *</label>
                    <div class="luna-brief-checkbox-group">
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceBranding" name="otherServices[]" value="Branding completo">
                            <label for="lunaServiceBranding">Branding completo</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceWeb" name="otherServices[]" value="Desarrollo web">
                            <label for="lunaServiceWeb">Desarrollo web</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceMarketing" name="otherServices[]" value="Marketing digital">
                            <label for="lunaServiceMarketing">Marketing digital</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceSocial" name="otherServices[]" value="Redes sociales">
                            <label for="lunaServiceSocial">Redes sociales</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceConsulting" name="otherServices[]" value="Consultoría">
                            <label for="lunaServiceConsulting">Consultoría estratégica</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceNone" name="otherServices[]" value="Ninguno">
                            <label for="lunaServiceNone">Ninguno por ahora</label>
                        </div>
                        <div class="luna-brief-checkbox-container">
                            <input type="checkbox" id="lunaServiceOther" name="otherServices[]" value="Other">
                            <label for="lunaServiceOther">Otro</label>
                        </div>
                    </div>
                    <div class="luna-brief-field luna-brief-hidden-field" id="lunaOtherServiceField">
                        <input type="text" id="lunaOtherServiceText" name="otherServiceText" placeholder="Especifica el otro servicio..." autocomplete="off">
                    </div>
                </div>
                <div class="luna-brief-field">
                    <label>¿Estarías dispuesto/a a compartir tu experiencia y ser una referencia para futuros clientes?</label>
                    <div class="luna-cubic-toggle">
                        <input type="checkbox" id="lunaShareOpinion" name="shareOpinion" style="display:none;" autocomplete="off">
                        <div class="luna-toggle-switch" onclick="lunaToggleShareOpinion()">
                            <div class="luna-toggle-circle"></div>
                        </div>
                        <div class="luna-toggle-text">
                            <span class="luna-toggle-text-current">NO</span>
                            <span class="luna-toggle-text-next">SÍ</span>
                        </div>
                    </div>
                </div>
                <div class="luna-brief-field luna-brief-hidden-field" id="lunaThankYouMessage">
                    <div class="luna-thanks-message">
                        Muchas gracias, para nosotros tu opinión es muy importante.
                    </div>
                </div>
            </div>
            <div class="luna-brief-navigation">
                <a href="#" id="lunaPrevBtn" class="luna-btn luna-boton-black" onclick="lunaChangeStep(-1); return false;" style="display: none;">
                    <div class="luna-btn-content">
                        <span class="luna-btn-icon">
                            <span class="luna-btn-icon-original material-symbols-outlined">arrow_back</span>
                            <span class="luna-btn-icon-hover material-symbols-outlined">arrow_back</span>
                            <span class="luna-btn-icon-return material-symbols-outlined">arrow_back</span>
                        </span>
                        <span class="luna-btn-text">
                            <span class="luna-btn-text-original">Regresar</span>
                            <span class="luna-btn-text-hover">Regresar</span>
                            <span class="luna-btn-text-return">Regresar</span>
                        </span>
                    </div>
                </a>
                <a href="#" id="lunaNextBtn" class="luna-btn luna-boton-black" onclick="lunaChangeStep(1); return false;">
                    <div class="luna-btn-content">
                        <span class="luna-btn-text">
                            <span class="luna-btn-text-original">Siguiente</span>
                            <span class="luna-btn-text-hover">Siguiente</span>
                            <span class="luna-btn-text-return">Siguiente</span>
                        </span>
                        <span class="luna-btn-icon">
                            <span class="luna-btn-icon-original material-symbols-outlined">arrow_forward</span>
                            <span class="luna-btn-icon-hover material-symbols-outlined">arrow_forward</span>
                            <span class="luna-btn-icon-return material-symbols-outlined">arrow_forward</span>
                        </span>
                    </div>
                </a>
                <a href="#" id="lunaSubmitBtn" class="luna-btn luna-boton-blue" onclick="lunaEnviaBrief(); return false;" style="display: none;">
                    <div class="luna-btn-content">
                        <span class="luna-btn-text">
                            <span class="luna-btn-text-original">Enviar</span>
                            <span class="luna-btn-text-hover">Enviar</span>
                            <span class="luna-btn-text-return">Enviar</span>
                        </span>
                        <span class="luna-btn-icon">
                            <span class="luna-btn-icon-original material-symbols-outlined">send</span>
                            <span class="luna-btn-icon-hover material-symbols-outlined">send</span>
                            <span class="luna-btn-icon-return material-symbols-outlined">send</span>
                        </span>
                    </div>
                </a>
            </div>
        </form>
        <div id="lunaSuccessMessage" class="luna-brief-message luna-success">
            <h2>¡Formulario enviado exitosamente!</h2>
            <p>¡Hemos recibido tu mensaje! Comenzaremos a trabajar en tu proyecto y, si necesitamos más información, nos pondremos en contacto contigo.</p>
            <div class="luna-countdown-container">
                <p>El formulario se reiniciará en <span class="luna-countdown-timer" id="lunaCountdownTimer">30</span> segundos.</p>
            </div>
        </div>
        <div id="lunaErrorMessage" class="luna-brief-message luna-error">
            <h3>Error al enviar el formulario</h3>
            <p id="lunaErrorText">Ha ocurrido un error. Por favor, inténtalo de nuevo.</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
let lunaCurrentStep = 1;
const lunaTotalSteps = 6;
let lunaLoadTimeline;
const lunaStepTitles = [
    'Términos y condiciones',
    'Información de contacto',
    'Información básica de la empresa',
    'Información del logo',
    'Preferencias de diseño',
    'Información adicional'
];
const lunaStatesByCountry = {
    'Mexico': [
        'Aguascalientes', 'Baja California', 'Baja California Sur', 'Campeche',
        'Chiapas', 'Chihuahua', 'Ciudad de México', 'Coahuila', 'Colima',
        'Durango', 'Estado de México', 'Guanajuato', 'Guerrero', 'Hidalgo',
        'Jalisco', 'Michoacán', 'Morelos', 'Nayarit', 'Nuevo León', 'Oaxaca',
        'Puebla', 'Querétaro', 'Quintana Roo', 'San Luis Potosí', 'Sinaloa',
        'Sonora', 'Tabasco', 'Tamaulipas', 'Tlaxcala', 'Veracruz', 'Yucatán', 'Zacatecas'
    ],
    'USA': [
        'Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado',
        'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Idaho',
        'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana',
        'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
        'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada',
        'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina',
        'North Dakota', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania',
        'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas',
        'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'
    ],
    'Canada': [
        'Alberta', 'British Columbia', 'Manitoba', 'New Brunswick',
        'Newfoundland and Labrador', 'Northwest Territories', 'Nova Scotia',
        'Nunavut', 'Ontario', 'Prince Edward Island', 'Quebec', 'Saskatchewan', 'Yukon'
    ]
};
const lunaLatinAmericaEuropeCountries = [
    'Argentina', 'Bolivia', 'Brasil', 'Chile', 'Colombia', 'Costa Rica', 'Cuba',
    'Ecuador', 'El Salvador', 'Guatemala', 'Honduras', 'Nicaragua', 'Panamá',
    'Paraguay', 'Perú', 'República Dominicana', 'Uruguay', 'Venezuela',
    'España', 'Francia', 'Italia', 'Alemania', 'Reino Unido', 'Portugal',
    'Países Bajos', 'Bélgica', 'Suiza', 'Austria', 'Noruega', 'Suecia',
    'Dinamarca', 'Finlandia', 'Irlanda', 'Grecia', 'Polonia', 'República Checa'
];
document.addEventListener('DOMContentLoaded', function() {
    lunaStartPreloader();
});
function lunaStartPreloader() {
    const nums1 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 1];
    const nums2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
    let num1Text = '';
    let num2Text = '';
    for (let i = 0; i < nums1.length; i++) {
        num1Text += '<span>' + nums1[i] + '</span>';
    }
    for (let i = 0; i < nums2.length; i++) {
        num2Text += '<span>' + nums2[i] + '</span>';
    }
    document.getElementById('lunaHundredsWrapper').innerHTML = num1Text;
    document.getElementById('lunaTensWrapper').innerHTML = num2Text;
    document.getElementById('lunaUnitsWrapper').innerHTML = '<span>%</span><span>0</span>';
    const num1wrap = document.getElementById('lunaHundredsWrapper');
    const num2wrap = document.getElementById('lunaTensWrapper');
    const num3wrap = document.getElementById('lunaUnitsWrapper');
    lunaLoadTimeline = gsap.timeline({
        id: 'lunaPageLoader',
        onComplete: lunaFinishLoading
    });
    lunaLoadTimeline.to(num1wrap, 6, {
        y: '-91%',
        ease: 'power2.inOut',
    }, .25);
    lunaLoadTimeline.to(num2wrap, 6, {
        y: '-95.3%',
        ease: 'power2.inOut',
    }, .25);
    lunaLoadTimeline.to(num3wrap, 1.5, {
        y: '0%',
        ease: 'power2.out',
    }, .5);
    lunaLoadTimeline.to(num3wrap, 0.8, {
        y: '-50%',
        ease: 'power2.out',
    }, 4.8);
    lunaLoadTimeline.to('#lunaLoadingBar', 6, {
        width: '100%',
        ease: 'power2.inOut'
    }, 0);
}
function lunaFinishLoading() {
    setTimeout(() => {
        document.getElementById('lunaPreloader').classList.add('luna-fade-out');
        setTimeout(() => {
            document.getElementById('lunaPreloader').style.display = 'none';
            document.getElementById('lunaBriefContainer').style.display = 'block';
            lunaInitializeForm();
        }, 600);
    }, 500);
}
function lunaInitializeForm() {
    lunaShowStep(lunaCurrentStep);
    lunaUpdateNavigationButtons();
    lunaSetupConditionalFields();
    lunaSetupCountryAutocomplete();
    lunaSetupCharacterCounter();
    lunaInitializeFileInputs();
    lunaSetupEventListeners();
    lunaSetupImageRadioButtons();
    lunaUpdateAllImageRadioStyles();
    lunaSetupButtonAnimations();
    lunaSetupSelectIcons();
}
function lunaUpdateStepTitle(newStep) {
    const titleElement = document.getElementById('lunaStepTitle');
    const newTitle = lunaStepTitles[newStep - 1];
    titleElement.classList.add('luna-slide-out');
    setTimeout(() => {
        titleElement.textContent = newTitle;
        titleElement.classList.remove('luna-slide-out');
        titleElement.classList.add('luna-slide-in');
        setTimeout(() => {
            titleElement.classList.remove('luna-slide-in');
        }, 50);
    }, 200);
}
function lunaToggleAcceptance() {
    const checkbox = document.getElementById('lunaAcceptance');
    const toggleSwitch = document.querySelector('.luna-toggle-switch');
    checkbox.checked = !checkbox.checked;
    toggleSwitch.classList.toggle('luna-checked', checkbox.checked);
}
function lunaToggleHasLogo() {
    const checkbox = document.getElementById('lunaHasLogo');
    const toggleSwitch = checkbox.parentElement.querySelector('.luna-toggle-switch');
    const currentLogoField = document.getElementById('lunaCurrentLogoField');
    const preserveElementsField = document.getElementById('lunaPreserveElementsField');
    checkbox.checked = !checkbox.checked;
    toggleSwitch.classList.toggle('luna-checked', checkbox.checked);
    if (checkbox.checked) {
        lunaShowElementWithAnimation(currentLogoField);
        lunaShowElementWithAnimation(preserveElementsField);
    } else {
        lunaHideElementWithAnimation(currentLogoField);
        lunaHideElementWithAnimation(preserveElementsField);
        document.getElementById('lunaCurrentLogo').value = '';
        document.getElementById('lunaPreserveElements').value = '';
    }
}
function lunaToggleFirstTime() {
    const checkbox = document.getElementById('lunaFirstTime');
    const toggleSwitch = checkbox.parentElement.querySelector('.luna-toggle-switch');
    const agencyCountField = document.getElementById('lunaAgencyCountField');
    const agencyCountInput = document.getElementById('lunaAgencyCount');
    checkbox.checked = !checkbox.checked;
    toggleSwitch.classList.toggle('luna-toggle-switch-checked', checkbox.checked);
    if (!checkbox.checked) {
        lunaShowElementWithAnimation(agencyCountField);
        agencyCountInput.required = true;
    } else {
        lunaHideElementWithAnimation(agencyCountField);
        agencyCountInput.required = false;
        agencyCountInput.value = '';
    }
}
function lunaToggleHiredBefore() {
    const checkbox = document.getElementById('lunaHiredBefore');
    const toggleSwitch = checkbox.parentElement.querySelector('.luna-toggle-switch');
    const previousServicesField = document.getElementById('lunaPreviousServicesField');
    checkbox.checked = !checkbox.checked;
    toggleSwitch.classList.toggle('luna-checked', checkbox.checked);
    if (checkbox.checked) {
        lunaShowElementWithAnimation(previousServicesField);
    } else {
        lunaHideElementWithAnimation(previousServicesField);
        const checkboxes = previousServicesField.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(cb => cb.checked = false);
        document.getElementById('lunaOtherPreviousText').value = '';
        lunaHideElementWithAnimation(document.getElementById('lunaOtherPreviousField'));
    }
}
function lunaToggleShareOpinion() {
    const checkbox = document.getElementById('lunaShareOpinion');
    const toggleSwitch = checkbox.parentElement.querySelector('.luna-toggle-switch');
    const thankYouMessage = document.getElementById('lunaThankYouMessage');
    checkbox.checked = !checkbox.checked;
    toggleSwitch.classList.toggle('luna-checked', checkbox.checked);
    if (checkbox.checked) {
        lunaShowElementWithAnimation(thankYouMessage);
    } else {
        lunaHideElementWithAnimation(thankYouMessage);
    }
}
function lunaShowElementWithAnimation(element) {
    element.classList.add('luna-show');
}
function lunaHideElementWithAnimation(element) {
    element.classList.remove('luna-show');
}
function lunaSetupEventListeners() {
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && e.target.type !== 'textarea') {
            e.preventDefault();
            if (lunaCurrentStep < lunaTotalSteps) {
                lunaChangeStep(1);
            }
        }
    });
    document.getElementById('lunaFullName').addEventListener('input', function() {
        if (this.hasAttribute('data-validate-on-submit')) {
            lunaValidateFullNameRealTime(this);
        }
    });
    document.getElementById('lunaBusinessAddress').addEventListener('input', function() {
        if (this.hasAttribute('data-validate-on-submit')) {
            lunaValidateBusinessAddressRealTime(this);
        }
    });
    document.getElementById('lunaBusinessActivity').addEventListener('input', function() {
        if (this.hasAttribute('data-validate-on-submit')) {
            lunaValidateBusinessActivityRealTime(this);
        }
    });
}
function lunaSetupSelectIcons() {
    const selects = document.querySelectorAll('.luna-select-wrapper select');
    selects.forEach(select => {
        select.addEventListener('focus', function() {
            const icon = this.parentElement.querySelector('.luna-select-icon');
            if (icon) icon.textContent = 'arrow_drop_up';
        });
        select.addEventListener('blur', function() {
            const icon = this.parentElement.querySelector('.luna-select-icon');
            if (icon) icon.textContent = 'arrow_drop_down';
        });
    });
}
function lunaSetupConditionalFields() {
    document.getElementById('lunaCountry').addEventListener('change', function() {
        const customCountryField = document.getElementById('lunaCustomCountryField');
        const customCountryInput = document.getElementById('lunaCustomCountry');
        if (this.value === 'Other') {
            lunaShowElementWithAnimation(customCountryField);
            customCountryInput.required = true;
            lunaUpdateStatesForCountry('');
        } else {
            lunaHideElementWithAnimation(customCountryField);
            customCountryInput.required = false;
            customCountryInput.value = '';
            lunaUpdateStatesForCountry(this.value);
        }
    });
    document.getElementById('lunaPrevOther').addEventListener('change', function() {
        const otherField = document.getElementById('lunaOtherPreviousField');
        const otherInput = document.getElementById('lunaOtherPreviousText');
        if (this.checked) {
            lunaShowElementWithAnimation(otherField);
            otherInput.required = true;
        } else {
            lunaHideElementWithAnimation(otherField);
            otherInput.required = false;
            otherInput.value = '';
        }
    });
    document.getElementById('lunaServiceOther').addEventListener('change', function() {
        const otherField = document.getElementById('lunaOtherServiceField');
        const otherInput = document.getElementById('lunaOtherServiceText');
        if (this.checked) {
            lunaShowElementWithAnimation(otherField);
            otherInput.required = true;
        } else {
            lunaHideElementWithAnimation(otherField);
            otherInput.required = false;
            otherInput.value = '';
        }
    });
}
function lunaUpdateStatesForCountry(countryValue) {
    const stateSelect = document.getElementById('lunaState');
    const stateLabel = document.getElementById('lunaStateLabel');
    const stateField = document.getElementById('lunaStateField');
    stateSelect.innerHTML = '';
    if (countryValue && lunaStatesByCountry[countryValue]) {
        stateLabel.textContent = countryValue === 'Mexico' ? 'Estado *' : 
                                 countryValue === 'USA' ? 'State *' : 
                                 'Province *';
        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = `Selecciona tu ${countryValue === 'Mexico' ? 'estado' : 
                                                   countryValue === 'USA' ? 'state' : 'province'}`;
        stateSelect.appendChild(defaultOption);
        lunaStatesByCountry[countryValue].forEach(state => {
            const option = document.createElement('option');
            option.value = state;
            option.textContent = state;
            stateSelect.appendChild(option);
        });
        stateSelect.required = true;
        stateField.style.display = 'block';
    } else {
        stateField.style.display = 'none';
        stateSelect.required = false;
    }
}
function lunaSetupCountryAutocomplete() {
    const customCountryInput = document.getElementById('lunaCustomCountry');
    const suggestionsContainer = document.getElementById('lunaCountrySuggestions');
    let currentIndex = -1;
    customCountryInput.addEventListener('input', function() {
        const value = this.value.toLowerCase();
        suggestionsContainer.innerHTML = '';
        currentIndex = -1;
        if (value.length >= 3) {
            const matches = lunaLatinAmericaEuropeCountries.filter(country => 
                country.toLowerCase().includes(value)
            );
            if (matches.length > 0) {
                matches.forEach((country, index) => {
                    const div = document.createElement('div');
                    div.className = 'luna-autocomplete-suggestion';
                    div.textContent = country;
                    div.addEventListener('click', () => lunaSelectCountry(country));
                    suggestionsContainer.appendChild(div);
                });
                suggestionsContainer.style.display = 'block';
            } else {
                suggestionsContainer.style.display = 'none';
            }
        } else {
            suggestionsContainer.style.display = 'none';
        }
    });
    customCountryInput.addEventListener('keydown', function(e) {
        const suggestions = suggestionsContainer.querySelectorAll('.luna-autocomplete-suggestion');
        if (e.key === 'ArrowDown') {
            e.preventDefault();
            currentIndex = Math.min(currentIndex + 1, suggestions.length - 1);
            lunaUpdateActiveSuggestion(suggestions, currentIndex);
        } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            currentIndex = Math.max(currentIndex - 1, -1);
            lunaUpdateActiveSuggestion(suggestions, currentIndex);
        } else if (e.key === 'Enter') {
            e.preventDefault();
            if (currentIndex >= 0 && suggestions[currentIndex]) {
                lunaSelectCountry(suggestions[currentIndex].textContent);
            }
        } else if (e.key === 'Escape') {
            suggestionsContainer.style.display = 'none';
            currentIndex = -1;
        }
    });
    function lunaUpdateActiveSuggestion(suggestions, index) {
        suggestions.forEach((suggestion, i) => {
            suggestion.classList.toggle('luna-active', i === index);
        });
    }
    function lunaSelectCountry(country) {
        customCountryInput.value = country;
        suggestionsContainer.style.display = 'none';
        currentIndex = -1;
    }
    document.addEventListener('click', function(e) {
        if (!customCountryInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
            suggestionsContainer.style.display = 'none';
            currentIndex = -1;
        }
    });
}
function lunaSetupCharacterCounter() {
    const activityTextarea = document.getElementById('lunaBusinessActivity');
    const counter = document.getElementById('lunaActivityCounter');
    const minLength = 30;
    activityTextarea.addEventListener('input', function() {
        const length = this.value.length;
        counter.textContent = `${length}/${minLength} caracteres`;
        counter.classList.remove('luna-valid', 'luna-invalid', 'luna-warning');
        if (length >= minLength) {
            counter.classList.add('luna-valid');
        } else if (length > minLength * 0.7) {
            counter.classList.add('luna-warning');
        } else {
            counter.classList.add('luna-invalid');
        }
    });
}
function lunaInitializeFileInputs() {
    document.querySelectorAll('.luna-file-input').forEach(input => {
        input.addEventListener('change', function() {
            const wrapper = this.closest('.luna-file-input-wrapper');
            lunaUpdateFileProgress(this, wrapper);
        });
    });
}
function lunaUpdateFileProgress(input, wrapper) {
    const progressContainer = wrapper.querySelector('.luna-file-progress');
    const countSpan = progressContainer.querySelector('.luna-file-count');
    const sizeSpan = progressContainer.querySelector('.luna-file-size');
    const progressFill = progressContainer.querySelector('.luna-file-progress-fill');
    const files = input.files;
    const fileCount = files.length;
    let totalSize = 0;
    let isValid = true;
    let maxFiles = 3;
    let maxTotalSize = 4 * 1024 * 1024;
    let maxIndividualSize = 2 * 1024 * 1024;
    if (input.id === 'lunaCurrentLogo') {
        maxFiles = 1;
        maxTotalSize = 2 * 1024 * 1024;
    }
    if (fileCount === 0) {
        countSpan.textContent = '0 archivos';
        sizeSpan.textContent = '0 MB';
        progressFill.style.width = '0%';
        progressFill.style.backgroundColor = '#666';
        return;
    }
    for (let i = 0; i < files.length; i++) {
        const file = files[i];
        totalSize += file.size;
        if (file.size > maxIndividualSize) {
            isValid = false;
            break;
        }
    }
    if (isValid && totalSize > maxTotalSize) {
        isValid = false;
    }
    const totalMB = totalSize / (1024 * 1024);
    const progressPercent = (totalSize / maxTotalSize) * 100;
    countSpan.textContent = `${fileCount} archivo${fileCount !== 1 ? 's' : ''}`;
    sizeSpan.textContent = `${totalMB.toFixed(2)} MB`;
    progressFill.style.width = `${Math.min(progressPercent, 100)}%`;
    if (!isValid) {
        progressFill.style.backgroundColor = '#ef4444';
    } else if (progressPercent > 80) {
        progressFill.style.backgroundColor = '#f59e0b';
    } else {
        progressFill.style.backgroundColor = '#10b981';
    }
}
function lunaSetupImageRadioButtons() {
    const radioCards = document.querySelectorAll('.luna-radio-card');
    radioCards.forEach(card => {
        card.addEventListener('click', function(e) {
            const radio = this.querySelector('input[type="radio"]');
            if (radio) {
                const groupName = radio.name;
                document.querySelectorAll(`input[name="${groupName}"]`).forEach(r => {
                    r.checked = false;
                    const container = r.closest('.luna-radio-card, .luna-brief-image-radio-container');
                    if (container) container.classList.remove('luna-selected');
                });
                radio.checked = true;
                this.classList.add('luna-selected');
            }
        });
        const label = card.querySelector('label');
        if (label) {
            label.addEventListener('click', function(e) {
                e.preventDefault();
            });
        }
    });
    const imageRadioContainers = document.querySelectorAll('.luna-brief-image-radio-container');
    imageRadioContainers.forEach(container => {
        container.addEventListener('click', function(e) {
            e.preventDefault();
            const radio = this.querySelector('input[type="radio"]');
            if (radio) {
                radio.checked = true;
                lunaUpdateImageRadioStyles(radio.name);
            }
        });
    });
}
function lunaUpdateImageRadioStyles(groupName) {
    const allRadios = document.querySelectorAll(`input[name="${groupName}"]`);
    allRadios.forEach(radio => {
        const container = radio.closest('.luna-brief-image-radio-container, .luna-radio-card');
        if (container) {
            if (radio.checked) {
                container.classList.add('luna-selected');
            } else {
                container.classList.remove('luna-selected');
            }
        }
    });
}
function lunaUpdateAllImageRadioStyles() {
    const radioGroups = ['designStyle', 'colorPalette', 'typographyStyle', 'visualizeOn', 'preferredShapes'];
    radioGroups.forEach(groupName => {
        lunaUpdateImageRadioStyles(groupName);
    });
}
function lunaChangeStep(direction) {
    const newStep = lunaCurrentStep + direction;
    if (direction === 1) {
        if (!lunaValidateCurrentStep()) {
            return false;
        }
    }
    if (newStep >= 1 && newStep <= lunaTotalSteps) {
        lunaCurrentStep = newStep;
        lunaUpdateStepTitle(lunaCurrentStep);
        lunaShowStep(lunaCurrentStep);
        lunaUpdateNavigationButtons();
        lunaUpdateProgressBar();
        document.getElementById('luna-top-anchor').scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
        });
    }
}
function lunaShowStep(step) {
    const steps = document.querySelectorAll('.luna-brief-step');
    steps.forEach(stepEl => {
        stepEl.classList.remove('luna-active');
    });
    const currentStepEl = document.getElementById(`lunaStep${step}`);
    if (currentStepEl) {
        currentStepEl.classList.add('luna-active');
        setTimeout(() => {
            lunaUpdateAllImageRadioStyles();
        }, 100);
    }
}
function lunaUpdateNavigationButtons() {
    const prevBtn = document.getElementById('lunaPrevBtn');
    const nextBtn = document.getElementById('lunaNextBtn');
    const submitBtn = document.getElementById('lunaSubmitBtn');
    prevBtn.style.display = lunaCurrentStep === 1 ? 'none' : 'inline-flex';
    if (lunaCurrentStep === lunaTotalSteps) {
        nextBtn.style.display = 'none';
        submitBtn.style.display = 'inline-flex';
    } else {
        nextBtn.style.display = 'inline-flex';
        submitBtn.style.display = 'none';
    }
}
function lunaUpdateProgressBar() {
    const progressBar = document.getElementById('lunaProgressBar');
    const progressText = document.getElementById('lunaProgressText');
    const percentage = (lunaCurrentStep / lunaTotalSteps) * 100;
    progressBar.style.width = `${percentage}%`;
    progressText.textContent = `Paso ${lunaCurrentStep} de ${lunaTotalSteps}`;
}
function lunaValidateCurrentStep() {
    const currentStepEl = document.getElementById(`lunaStep${lunaCurrentStep}`);
    let isValid = true;
    lunaClearStepErrors(currentStepEl);
    switch (lunaCurrentStep) {
        case 1:
            isValid = lunaValidateStep1();
            break;
        case 2:
            isValid = lunaValidateStep2();
            break;
        case 3:
            isValid = lunaValidateStep3();
            break;
        case 4:
            isValid = lunaValidateStep4();
            break;
        case 5:
            isValid = lunaValidateStep5();
            break;
        case 6:
            isValid = lunaValidateStep6();
            break;
    }
    return isValid;
}
function lunaValidateStep1() {
    const acceptance = document.getElementById('lunaAcceptance');
    const fieldContainer = acceptance.closest('.luna-brief-field');
    if (!acceptance.checked) {
        lunaShowFieldError(fieldContainer, 'Por favor, acepta los términos para poder avanzar.');
        return false;
    }
    return true;
}
function lunaValidateStep2() {
    let isValid = true;
    const fullName = document.getElementById('lunaFullName');
    if (!fullName.value.trim()) {
        lunaShowFieldError(fullName, 'Queremos saber tu nombre para crear una imagen única para ti.');
        fullName.setAttribute('data-validate-on-submit', 'true');
        isValid = false;
    } else {
        const nameValidation = lunaValidateFullName(fullName.value);
        if (!nameValidation.isValid) {
            lunaShowFieldError(fullName, nameValidation.message);
            fullName.setAttribute('data-validate-on-submit', 'true');
            isValid = false;
        }
    }
    const email = document.getElementById('lunaEmail');
    if (!email.value.trim()) {
        lunaShowFieldError(email, 'Tu correo será nuestro canal principal para hacerte llegar nuestro trabajo.');
        isValid = false;
    } else if (!lunaIsValidEmail(email.value)) {
        lunaShowFieldError(email, 'Revisa el formato de tu correo. Ejemplo: tunombre@email.com');
        isValid = false;
    }
    const whatsapp = document.getElementById('lunaWhatsapp');
    if (!whatsapp.value.trim()) {
        lunaShowFieldError(whatsapp, 'Comparte tu WhatsApp para agilizar la comunicación sobre tu imagen.');
        isValid = false;
    } else if (!lunaIsValidWhatsApp(whatsapp.value)) {
        lunaShowFieldError(whatsapp, 'El número debe tener entre 10 y 15 dígitos.');
        isValid = false;
    }
    const country = document.getElementById('lunaCountry');
    if (!country.value) {
        lunaShowFieldError(country, 'Selecciona tu país para ajustar detalles regionales en tu proyecto.');
        isValid = false;
    }
    if (country.value === 'Other') {
        const customCountry = document.getElementById('lunaCustomCountry');
        if (!customCountry.value.trim()) {
            lunaShowFieldError(customCountry, 'Especificar este dato nos permite avanzar con tu solicitud.');
            isValid = false;
        }
    } else if (country.value && lunaStatesByCountry[country.value]) {
        const state = document.getElementById('lunaState');
        if (!state.value) {
            lunaShowFieldError(state, 'Indica tu estado para ajustar detalles regionales en tu proyecto.');
            isValid = false;
        }
    }
    return isValid;
}
function lunaValidateStep3() {
    let isValid = true;
    const businessName = document.getElementById('lunaBusinessName');
    if (!businessName.value.trim()) {
        lunaShowFieldError(businessName, 'Indica el nombre de tu negocio para conocer más sobre él.');
        isValid = false;
    }
    const position = document.getElementById('lunaPosition');
    if (!position.value) {
        lunaShowFieldError(position, 'Selecciona tu cargo para dirigirnos a ti adecuadamente durante el proceso.');
        isValid = false;
    }
    const businessAddress = document.getElementById('lunaBusinessAddress');
    if (!businessAddress.value.trim()) {
        lunaShowFieldError(businessAddress, 'La dirección de tu negocio nos ayuda para materiales relacionados.');
        businessAddress.setAttribute('data-validate-on-submit', 'true');
        isValid = false;
    } else if (!lunaValidateBusinessAddress(businessAddress.value)) {
        lunaShowFieldError(businessAddress, 'La dirección debe contener al menos 3 palabras.');
        businessAddress.setAttribute('data-validate-on-submit', 'true');
        isValid = false;
    }
    const businessType = document.getElementById('lunaBusinessType');
    if (!businessType.value) {
        lunaShowFieldError(businessType, 'Selecciona el giro para enfocar el diseño en tu industria.');
        isValid = false;
    }
    const businessActivity = document.getElementById('lunaBusinessActivity');
    if (!businessActivity.value.trim()) {
        lunaShowFieldError(businessActivity, 'Cuéntanos brevemente a qué se dedica tu negocio para entender mejor tu esencia.');
        businessActivity.setAttribute('data-validate-on-submit', 'true');
        isValid = false;
    } else if (businessActivity.value.length < 30) {
        lunaShowFieldError(businessActivity, 'La descripción debe tener al menos 30 caracteres.');
        businessActivity.setAttribute('data-validate-on-submit', 'true');
        isValid = false;
    }
    if (!lunaValidateRadioGroup('businessScope')) {
        isValid = false;
    }
    const businessMaturity = document.getElementById('lunaBusinessMaturity');
    if (!businessMaturity.value) {
        lunaShowFieldError(businessMaturity, 'Selecciona la etapa de tu negocio para alinear la imagen a tu crecimiento.');
        isValid = false;
    }
    return isValid;
}
function lunaValidateStep4() {
    let isValid = true;
    const brandName = document.getElementById('lunaBrandName');
    if (!brandName.value.trim()) {
        lunaShowFieldError(brandName, 'Indica cómo deseas que se muestre el nombre en tu nuevo logo.');
        isValid = false;
    }
    return isValid;
}
function lunaValidateStep5() {
    let isValid = true;
    if (!lunaValidateRadioGroup('designStyle')) {
        isValid = false;
    }
    if (!lunaValidateRadioGroup('preferredShapes')) {
        isValid = false;
    }
    if (!lunaValidateRadioGroup('colorPalette')) {
        isValid = false;
    }
    if (!lunaValidateRadioGroup('typographyStyle')) {
        isValid = false;
    }
    const referenceImages = document.getElementById('lunaReferenceImages');
    if (!referenceImages.files || referenceImages.files.length < 1) {
        const container = referenceImages.closest('.luna-brief-field');
        lunaShowFieldError(container, 'Sube al menos una referencia visual que inspire el diseño de tu logo.');
        isValid = false;
    }
    if (!lunaValidateRadioGroup('visualizeOn')) {
        isValid = false;
    }
    const baseColor1 = document.getElementById('lunaBaseColor1');
    const baseColor2 = document.getElementById('lunaBaseColor2');
    const baseColor3 = document.getElementById('lunaBaseColor3');
    const allColorsAreBlack = (
        baseColor1.value === '#000000' &&
        baseColor2.value === '#000000' &&
        baseColor3.value === '#000000'
    );
    if (allColorsAreBlack) {
        const colorContainer = baseColor1.closest('.luna-brief-color-horizontal').parentElement;
        lunaShowFieldError(colorContainer, 'Por favor, selecciona mínimo un color que refleje la esencia de tu identidad.');
        isValid = false;
    }
    return isValid;
}
function lunaValidateStep6() {
    let isValid = true;
    const firstTime = document.getElementById('lunaFirstTime');
    if (!firstTime.checked) {
        const agencyCount = document.getElementById('lunaAgencyCount');
        if (!agencyCount.value) {
            lunaShowFieldError(agencyCount, 'Indica el número de agencias o profesionales con los que has trabajado.');
            isValid = false;
        }
    }
    const hiredBefore = document.getElementById('lunaHiredBefore');
    if (hiredBefore.checked) {
        const previousServices = document.querySelectorAll('input[name="previousServices[]"]:checked');
        if (previousServices.length === 0) {
            const container = document.querySelector('input[name="previousServices[]"]').closest('.luna-brief-field');
            lunaShowFieldError(container, 'Selecciona los servicios que ya has solicitado para personalizar tu experiencia.');
            isValid = false;
        }
    }
    const howHeard = document.getElementById('lunaHowHeard');
    if (!howHeard.value) {
        lunaShowFieldError(howHeard, 'Comparte cómo llegaste a Luna Estrategia Digital.');
        isValid = false;
    }
    const otherServices = document.querySelectorAll('input[name="otherServices[]"]:checked');
    if (otherServices.length === 0) {
        const container = document.querySelector('input[name="otherServices[]"]').closest('.luna-brief-field');
        lunaShowFieldError(container, 'Indica qué más te gustaría desarrollar para tu marca.');
        isValid = false;
    }
    const serviceOther = document.getElementById('lunaServiceOther');
    if (serviceOther && serviceOther.checked) {
        const otherServiceText = document.getElementById('lunaOtherServiceText');
        if (!otherServiceText.value.trim()) {
            lunaShowFieldError(otherServiceText, 'Indica qué más te gustaría desarrollar para tu marca.');
            isValid = false;
        }
    }
    const prevOther = document.getElementById('lunaPrevOther');
    if (prevOther && prevOther.checked) {
        const otherPreviousText = document.getElementById('lunaOtherPreviousText');
        if (!otherPreviousText.value.trim()) {
            lunaShowFieldError(otherPreviousText, 'Indica qué más te gustaría desarrollar para tu marca.');
            isValid = false;
        }
    }
    return isValid;
}
function lunaValidateFullName(name) {
    const words = name.trim().split(/\s+/).filter(word => word.length > 0);
    if (words.length < 2) {
        return { isValid: false, message: 'Por favor, escribe tu nombre y apellido.' };
    }
    const invalidWords = words.filter(word => word.length < 3);
    if (invalidWords.length > 0) {
        return { isValid: false, message: 'Recuerda: cada palabra debe tener al menos tres letras.' };
    }
    return { isValid: true };
}
function lunaValidateFullNameRealTime(field) {
    const fieldContainer = field.closest('.luna-brief-field');
    if (field.value) {
        const nameValidation = lunaValidateFullName(field.value);
        if (!nameValidation.isValid) {
            lunaShowFieldError(fieldContainer, nameValidation.message);
        } else {
            lunaClearFieldError(fieldContainer);
        }
    }
}
function lunaValidateBusinessAddress(address) {
    const words = address.trim().split(/\s+/).filter(word => word.length > 0);
    return words.length >= 3;
}
function lunaValidateBusinessAddressRealTime(field) {
    const fieldContainer = field.closest('.luna-brief-field');
    if (field.value && !lunaValidateBusinessAddress(field.value)) {
        lunaShowFieldError(fieldContainer, 'La dirección debe contener al menos 3 palabras.');
    } else {
        lunaClearFieldError(fieldContainer);
    }
}
function lunaValidateBusinessActivityRealTime(field) {
    const fieldContainer = field.closest('.luna-brief-field');
    if (field.value.length > 0 && field.value.length < 30) {
        lunaShowFieldError(fieldContainer, 'La descripción debe tener al menos 30 caracteres.');
    } else if (field.value.length >= 30) {
        lunaClearFieldError(fieldContainer);
    }
}
function lunaValidateRadioGroup(groupName) {
    const checkedRadio = document.querySelector(`input[name="${groupName}"]:checked`);
    const firstRadio = document.querySelector(`input[name="${groupName}"]`);
    let container = null;
    if (firstRadio) container = firstRadio.closest('.luna-brief-field');
    if (!checkedRadio) {
        if (container) {
            lunaShowFieldError(container, 'Por favor, elige una opción para avanzar.');
        }
        return false;
    }
    return true;
}
function lunaIsValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}
function lunaIsValidWhatsApp(numero) {
    numero = numero.replace(/[\s\-()]/g, '');
    if (numero.startsWith('+')) {
        numero = numero.substring(1);
    }
    return /^\d{10,15}$/.test(numero);
}
function lunaShowFieldError(fieldOrContainer, message) {
    let fieldContainer;
    if (fieldOrContainer.classList && fieldOrContainer.classList.contains('luna-brief-field')) {
        fieldContainer = fieldOrContainer;
    } else {
        fieldContainer = fieldOrContainer.closest('.luna-brief-field') || fieldOrContainer.parentElement;
    }
    fieldContainer.classList.add('luna-error');
    const existingError = fieldContainer.querySelector('.luna-error-message');
    if (existingError) {
        existingError.remove();
    }
    const errorElement = document.createElement('span');
    errorElement.className = 'luna-error-message';
    errorElement.textContent = message;
    fieldContainer.appendChild(errorElement);
}
function lunaClearFieldError(fieldOrContainer) {
    let fieldContainer;
    if (fieldOrContainer.classList && fieldOrContainer.classList.contains('luna-brief-field')) {
        fieldContainer = fieldOrContainer;
    } else {
        fieldContainer = fieldOrContainer.closest('.luna-brief-field') || fieldOrContainer.parentElement;
    }
    fieldContainer.classList.remove('luna-error');
    const errorMessage = fieldContainer.querySelector('.luna-error-message');
    if (errorMessage) {
        errorMessage.remove();
    }
}
function lunaClearStepErrors(stepElement) {
    const errorFields = stepElement.querySelectorAll('.luna-brief-field.luna-error');
    errorFields.forEach(field => {
        field.classList.remove('luna-error');
        const errorMessage = field.querySelector('.luna-error-message');
        if (errorMessage) {
            errorMessage.remove();
        }
    });
}
function lunaEnviaBrief() {
    const form = document.getElementById('lunaBriefForm');
    const isValid = lunaValidateEntireForm();
    if (!isValid) {
        return;
    }
    lunaSetLoadingState(true);
    const formData = new FormData(form);
    const hasLogo = document.getElementById('lunaHasLogo').checked;
    formData.append('hasLogo', hasLogo ? 'yes' : 'no');
    const firstTime = document.getElementById('lunaFirstTime').checked;
    formData.append('firstTime', firstTime ? 'yes' : 'no');
    const hiredBefore = document.getElementById('lunaHiredBefore').checked;
    formData.append('hiredBefore', hiredBefore ? 'yes' : 'no');
    const shareOpinion = document.getElementById('lunaShareOpinion').checked;
    formData.append('shareOpinion', shareOpinion ? 'yes' : 'no');
    $.ajax({
        type: "POST",
        url: "../php/briefLogotipo.php",
        data: formData,
        dataType: "json",
        processData: false,
        contentType: false,
        timeout: 30000,
        success: function(respuesta) {
            lunaSetLoadingState(false);
            if (respuesta.success) {
                lunaShowSuccessMessage(respuesta.message);
            } else {
                lunaShowMessage(respuesta.message || "Error desconocido.", 'error');
            }
        },
        error: function(xhr, status, error) {
            lunaSetLoadingState(false);
            let errorMessage = "Ocurrió un error al enviar el formulario. ";
            if (status === 'timeout') {
                errorMessage = "La solicitud tardó demasiado tiempo. Verifica tu conexión e intenta de nuevo.";
            } else if (xhr.status === 413) {
                errorMessage = "Los archivos son demasiado grandes. Reduce el tamaño de las imágenes a menos de 4MB total.";
            } else if (xhr.status === 0) {
                errorMessage = "Error de conexión. Verifica tu conexión a internet.";
            } else {
                errorMessage += `Código: ${xhr.status}. ${error}`;
            }
            lunaShowMessage(errorMessage, 'error');
        }
    });
}
function lunaValidateEntireForm() {
    let isValid = true;
    let firstInvalidStep = null;
    for (let step = 1; step <= lunaTotalSteps; step++) {
        lunaCurrentStep = step;
        if (!lunaValidateCurrentStep()) {
            isValid = false;
            if (firstInvalidStep === null) {
                firstInvalidStep = step;
            }
        }
    }
    if (!isValid && firstInvalidStep !== null) {
        lunaCurrentStep = firstInvalidStep;
        lunaUpdateStepTitle(lunaCurrentStep);
        lunaShowStep(lunaCurrentStep);
        lunaUpdateNavigationButtons();
        lunaUpdateProgressBar();
        document.getElementById('luna-top-anchor').scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
        });
    }
    return isValid;
}
function lunaSetLoadingState(loading) {
    const form = document.getElementById('lunaBriefForm');
    const submitBtn = document.getElementById('lunaSubmitBtn');
    if (loading) {
        form.classList.add('luna-brief-loading');
        submitBtn.disabled = true;
        submitBtn.querySelector('.luna-btn-text-original').textContent = 'Enviando...';
        submitBtn.querySelector('.luna-btn-text-hover').textContent = 'Enviando...';
        submitBtn.querySelector('.luna-btn-text-return').textContent = 'Enviando...';
    } else {
        form.classList.remove('luna-brief-loading');
        submitBtn.disabled = false;
        submitBtn.querySelector('.luna-btn-text-original').textContent = 'Enviar';
        submitBtn.querySelector('.luna-btn-text-hover').textContent = 'Enviar';
        submitBtn.querySelector('.luna-btn-text-return').textContent = 'Enviar';
    }
}
function lunaShowSuccessMessage(customMessage = null) {
    const form = document.querySelector('form');
    const header = document.getElementById('lunaFormHeader');
    const successMessage = document.getElementById('lunaSuccessMessage');
    const messageText = successMessage.querySelector('p');
    if (customMessage) {
        messageText.textContent = customMessage;
    }
    form.style.display = 'none';
    header.style.display = 'none';
    successMessage.style.display = 'block';
    successMessage.scrollIntoView({ behavior: 'smooth' });
    lunaStartCountdown();
}
function lunaStartCountdown() {
    let timeLeft = 30;
    const countdownElement = document.getElementById('lunaCountdownTimer');
    const countdown = setInterval(() => {
        timeLeft--;
        countdownElement.textContent = timeLeft;
        if (timeLeft <= 0) {
            clearInterval(countdown);
            location.reload();
        }
    }, 1000);
}
function lunaShowMessage(message, type) {
    const messageContainer = document.getElementById(type === 'error' ? 'lunaErrorMessage' : 'lunaSuccessMessage');
    const messageText = messageContainer.querySelector('p');
    messageText.textContent = message;
    messageContainer.style.display = 'block';
    if (type === 'error') {
        setTimeout(() => {
            messageContainer.style.display = 'none';
        }, 7000);
    }
    messageContainer.scrollIntoView({ behavior: 'smooth' });
}
function lunaSetupButtonAnimations() {
    document.querySelectorAll('.luna-btn').forEach(lunaButton => {
        const lunaOriginalText = lunaButton.querySelector('.luna-btn-text-original');
        const lunaHoverText = lunaButton.querySelector('.luna-btn-text-hover');
        const lunaReturnText = lunaButton.querySelector('.luna-btn-text-return');
        const lunaOriginalIcon = lunaButton.querySelector('.luna-btn-icon-original');
        const lunaHoverIcon = lunaButton.querySelector('.luna-btn-icon-hover');
        const lunaReturnIcon = lunaButton.querySelector('.luna-btn-icon-return');
        function lunaSplitTextIntoChars(lunaElement) {
            if (!lunaElement) return;
            const lunaText = lunaElement.textContent;
            lunaElement.innerHTML = '';
            lunaText.split('').forEach((lunaChar, lunaIndex) => {
                const lunaSpan = document.createElement('span');
                lunaSpan.textContent = lunaChar === ' ' ? '\u00A0' : lunaChar;
                lunaSpan.style.display = 'inline-block';
                lunaSpan.style.position = 'relative';
                lunaElement.appendChild(lunaSpan);
            });
        }
        lunaSplitTextIntoChars(lunaOriginalText);
        lunaSplitTextIntoChars(lunaHoverText);
        lunaSplitTextIntoChars(lunaReturnText);
        const lunaOriginalChars = lunaOriginalText.querySelectorAll('span');
        const lunaHoverChars = lunaHoverText.querySelectorAll('span');
        const lunaReturnChars = lunaReturnText.querySelectorAll('span');
        let lunaTl = gsap.timeline({ paused: true });
        lunaTl.to(lunaButton, {
            y: -3,
            duration: 0.4,
            ease: "power2.out"
        }, 0);
        lunaTl.to(lunaOriginalChars, {
            y: -40,
            duration: 0.7,
            stagger: {
                amount: 0.08,
                from: "start"
            },
            ease: "power1.out"
        }, 0);
        if (lunaOriginalIcon) {
            lunaTl.to(lunaOriginalIcon, {
                y: -40,
                duration: 0.7,
                ease: "power1.out"
            }, 0);
        }
        gsap.set(lunaHoverChars, { y: 40 });
        gsap.set(lunaReturnChars, { y: 80 });
        if (lunaHoverIcon) gsap.set(lunaHoverIcon, { y: 40 });
        if (lunaReturnIcon) gsap.set(lunaReturnIcon, { y: 80 });
        lunaTl.to(lunaHoverChars, {
            y: 0,
            duration: 0.25,
            stagger: {
                amount: 0.05,
                from: "start"
            },
            ease: "power2.out"
        }, 0.15);
        if (lunaHoverIcon) {
            lunaTl.to(lunaHoverIcon, {
                y: 0,
                duration: 0.25,
                ease: "power2.out"
            }, 0.15);
        }
        lunaTl.to(lunaHoverChars, {
            y: -40,
            duration: 0.25,
            stagger: {
                amount: 0.05,
                from: "start"
            },
            ease: "power1.in"
        }, 0.5);
        if (lunaHoverIcon) {
            lunaTl.to(lunaHoverIcon, {
                y: -40,
                duration: 0.25,
                ease: "power1.in"
            }, 0.5);
        }
        lunaTl.to(lunaReturnChars, {
            y: 0,
            duration: 0.25,
            stagger: {
                amount: 0.05,
                from: "start"
            },
            ease: "power2.out"
        }, 0.55);
        if (lunaReturnIcon) {
            lunaTl.to(lunaReturnIcon, {
                y: 0,
                duration: 0.25,
                ease: "power2.out"
            }, 0.55);
        }
        let lunaIsHovering = false;
        let lunaHoverTimeout;
        lunaButton.addEventListener('mouseenter', () => {
            lunaIsHovering = true;
            clearTimeout(lunaHoverTimeout);
            lunaTl.play();
        });
        lunaButton.addEventListener('mouseleave', () => {
            lunaIsHovering = false;
            clearTimeout(lunaHoverTimeout);
            lunaHoverTimeout = setTimeout(() => {
                if (!lunaIsHovering) {
                    lunaTl.reverse();
                }
            }, 50);
        });
    });
}
window.lunaToggleAcceptance = lunaToggleAcceptance;
window.lunaToggleHasLogo = lunaToggleHasLogo;
window.lunaToggleFirstTime = lunaToggleFirstTime;
window.lunaToggleHiredBefore = lunaToggleHiredBefore;
window.lunaToggleShareOpinion = lunaToggleShareOpinion;
window.lunaChangeStep = lunaChangeStep;
window.lunaEnviaBrief = lunaEnviaBrief;
</script>
</body>
</html>
